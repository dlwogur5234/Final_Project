<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.cloud.pt.ptLog.PtTypeDAO">


	
	<!-- 날짜에 대한 운동 조회 -->
	<select id="getTypeList" parameterType="Map" resultType="PtTypeVO">
		SELECT * FROM PTTYPE
		WHERE PTNUM  = #{ptNum}
		AND PTLOGDATE = #{ptLogDate}
		ORDER BY PTNUM
	</select>
	
	<insert id="addType" parameterType="PtTypeVO">
		INSERT INTO PTTYPE (EMPLOYEENUM,NAME,WEIGHT,EXCOUNT,PTSET) VALUES (#{employeeNum},#{name},#{weight},#{exCount},#{ptSet})
	</insert>
	
	<delete id="delType">
		DELETE FROM PTTYPE WHERE PTTYPENUM = #{ptTypeNum}
	</delete>
	
	<!-- 전체 운동 갯수 조회 -->
	 <select id="selectExAll" resultType="int">
	 	select count(*)
	 	  from tb_exercise
	 	 where cl_no = #{classNo}
	 	   <!-- and ex_date = #{exDate} -->
	 </select>
	 
	 <!-- 완료된 운동 갯수 조회 -->
	 <select id="selectComplete" resultType="int">
	 	select count(*)
	 	  from tb_exercise
	 	 where PTTYPENUM = #{PTTYPENUM}
	 	   <!-- and ex_date = #{exDate} -->
	 	   and FINISH = '1'
	 </select>
</mapper>